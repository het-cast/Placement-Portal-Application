@{
  Layout = "~/Views/Shared/_AuthenticationLayout.cshtml";
}

@model PlacementPortal.DAL.ViewModels.UserCredentialsViewModel;



<div class="row justify-content-center">
  <div class="col-md-6 col-lg-5">
    <div class="card p-4">
      <h2 class="text-center mb-4 fw-semibold">Login to Placement Portal</h2>
      <form id="loginSubmitForm">
        <div class="mb-3">
          <label for="email" class="form-label">Email address</label>
          <div class="input-group ">
            <input id="loginEmailInput" type="email" asp-for="Email" class="border form-control" placeholder="Email"
              aria-label="Username" aria-describedby="basic-addon1" id="inputEmail" />
          </div>
          <span class="text-danger" asp-validation-for="Email"></span>
        </div>

        <div class="mb-3 position-relative">
          <label for="password" class="form-label">Password</label>
          <div class="input-group ">
            <input type="password" asp-for="Password" id="LoginPasswordInput" class="border border-end-0 form-control"
              placeholder="Password" />
            <span class="bg-white input-group-text" id="basic-addon2">
              <i class="fa fa-eye trailing fa fw pe-auto" id="PasswordToggle"></i>
            </span>
          </div>
          <span class="text-danger" asp-validation-for="Password"></span>
        </div>


        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="RememberMe">
          <label class="form-check-label" for="checkDefault">
            Remember me
          </label>
        </div>

        <div class="d-grid mt-3">
          <button type="submit" class="btn text-white" id="LoginSubmit" style="background-color: #a577d3;">Login</button>
        </div>

        <div class="mt-3 text-center">
          <small><a id="forgotPasswordLink" class="text-decoration-none text-black" >Forgot Password ?</a></small>
        </div>
      </form>
    </div>
  </div>
</div>

<Partial name="_validationScriptsPartial" />
@section Scripts {
  <script>
    document.getElementById('forgotPasswordLink').addEventListener('click', function () {
      var email = document.getElementById("loginEmailInput").value;
      email = email.trim().toLowerCase();
      this.href = '@Url.Action("ForgotPassword", "Authentication")' + '?Email=' + encodeURIComponent(email);
    });
  </script>
  <script>
    $(document).ready(function () {
      // Success Message
    @if (TempData["SuccessMessage"] != null)
    {
      <text>toastr.success("@TempData["SuccessMessage"]");</text>
    }

        // Error Message
    @if (TempData["ErrorMessage"] != null)
    {
      <text>toastr.error("@TempData["ErrorMessage"]");</text>
    }

        // Info Message
    @if (TempData["InfoMessage"] != null)
    {
      <text>toastr.info("@TempData["InfoMessage"]");</text>
    }

        // Warning Message
    @if (TempData["WarningMessage"] != null)
    {
      <text>toastr.warning("@TempData["WarningMessage"]");</text>
    }
          });
  </script>
  <script src="~/js/authentication.js"></script>
}